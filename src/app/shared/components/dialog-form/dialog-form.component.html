<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <ng-container *ngFor="let item of dialogConfig.data">
    <div [ngSwitch]="item.type" class="mb-2">
      <input
        type="hidden"
        *ngSwitchCase="'hidden'"
        [formControlName]="item.formControlName"
      />
      <prm-input-text
        *ngSwitchCase="'text'"
        [numberOnly]="item.numberOnly"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [placeholder]="item.placeholder ? item.placeholder : ''"
        [readonly]="item.readonly"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
      ></prm-input-text>
      <prm-input-text
        *ngSwitchCase="'link'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [placeholder]="item.placeholder ? item.placeholder : ''"
        [readonly]="item.readonly"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
      ></prm-input-text>
      <prm-input-textarea
        *ngSwitchCase="'textarea'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [placeholder]="item.placeholder ? item.placeholder : ''"
        [readonly]="item.readonly"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
      ></prm-input-textarea>
      <prm-input-dropdown
        *ngSwitchCase="'dropdown'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [placeholder]="item.placeholder ? item.placeholder : ''"
        [readonly]="item.readonly"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
        [items]="item.dropdownItems"
      ></prm-input-dropdown>
      <prm-input-multi-select
        *ngSwitchCase="'multi-select'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [placeholder]="item.placeholder ? item.placeholder : ''"
        [readonly]="item.readonly"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
        [items]="item.multiSelectItems"
      ></prm-input-multi-select>
      <prm-input-color-picker
        *ngSwitchCase="'color-picker'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [formControlName]="item.formControlName"
        [inline]="item.inline"
        [errors]="item.errors"
      ></prm-input-color-picker>
      <prm-input-date-time-picker
        *ngSwitchCase="'date-picker'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [datePickerMode]="item.datePickerMode"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
      ></prm-input-date-time-picker>
      <ag-single-image-picker
        *ngSwitchCase="'image-picker'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
        [urlToShow]="item.urlToShow"
        [accept]="item.accept || 'image/*'"
      ></ag-single-image-picker>
      <ag-multi-image-picker
        *ngSwitchCase="'multi-image-picker'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
        [urlToShow]="item.urlToShow"
      ></ag-multi-image-picker>
      <prm-input-editor
        *ngSwitchCase="'editor'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [formControlName]="item.formControlName"
        [errors]="item.errors"
      ></prm-input-editor>
      <prm-input-checkbox-single
        *ngSwitchCase="'checkbox'"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [formControl]="form.get(item.formControlName)"
      ></prm-input-checkbox-single>
      <prm-input-tags
        *ngSwitchCase="'tags'"
        hint="(type + enter)"
        [field]="item.field"
        [label]="item.label ? item.label : ''"
        [labelWidth]="item.labelWidth"
        [formControl]="form.get(item.formControlName)"
      ></prm-input-tags>
    </div>
  </ng-container>
  <div
    class="d-flex justify-content-start align-content-center border-top pt-2 mt-5"
  >
    <prm-button
      label="ذخیره"
      icon="fa fa-plus"
      color="success"
      class="mr-2"
      type="submit"
    ></prm-button>
    <prm-button
      label="انصراف"
      icon="fa fa-times"
      color="danger"
      (click)="onCancel()"
    ></prm-button>
  </div>
</form>
